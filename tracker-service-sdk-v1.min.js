(function(global){const SDK_VERSION="1.0";const config={apiBaseUrl:"http://localhost:8080",endpoints:{receiveEvent:"/api/tracker-ingestor/v1/receive-event"}};function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){const r=Math.random()*16|0,v=c==="x"?r:r&3|8;return v.toString(16)}))}function getCurrentISOTime(){return(new Date).toISOString()}function getUserAgent(){return navigator.userAgent}function getOrigin(){return window.location.origin}async function sendEventAsync(event){if(!event.eventType){throw new Error("The 'eventType' field is required.")}const finalEvent={eventId:event.eventId||generateUUID(),eventType:event.eventType,data:event.data||{},metadata:{clientId:event.metadata?.clientId||"Web",userAgent:getUserAgent(),origin:getOrigin(),eventTime:event.metadata?.eventTime||getCurrentISOTime(),eventVersion:SDK_VERSION},tags:event.tags||[]};try{const response=await fetch(`${config.apiBaseUrl}${config.endpoints.receiveEvent}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(finalEvent)});if(response.ok){console.log("Evento enviado exitosamente");return true}else{console.error("Error en la solicitud:",response.statusText);return false}}catch(error){console.error("Error al enviar el evento:",error);return false}}global.TrackerService={sendEventAsync:sendEventAsync}})(window);